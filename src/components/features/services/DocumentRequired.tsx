"use client";
import { cn } from "@/lib/utils";
import Image from "next/image";
import parse from "html-react-parser";
import { Heading } from "@/components/utils/typography";

export type DocumentRequiredItem = {
  id: number | string;
  text: string;
};

export type DocumentRequiredData = {
  title?: string;
  description?: string;
  items?: DocumentRequiredItem[];
  ftr_description?: string;
  media?: {
    path?: string;
    alt?: string;
  };
};

type DocumentRequiredProps = {
  data: DocumentRequiredData;
  variant?: "default" | "saifz" | "dfza" | "aup" | "spv" | "tax-advisory" | "advisory" | "dsoa" | "hamriya";
};

export default function DocumentRequired({
  data,
  variant = "default",
}: DocumentRequiredProps) {
  const items = data?.items ?? [];

  return (
    <section
      className={cn(
        "w-full py-[40px] lg:py-[60px] xl:py-[70px] 3xl:py-[105px] bg-[#F9FAFB] !overflow-visible relative",
        variant === "saifz" &&
          "bg-linear-to-t from-[#f5fbfe] via-white to-white",
        variant === "dfza" &&
        "bg-linear-to-t from-[#f5fbfe] via-white to-white",
        variant === "tax-advisory" &&
          "bg-linear-to-t from-[#f5fbfe] via-white to-white",
        variant === "dsoa" &&
          "bg-linear-to-t from-[#f5fbfe] via-white to-white",
        variant === "spv" &&
          "bg-[#fff] before:content-[''] before:absolute before:inset-0 before:top-auto before:z-0 before:w-full before:h-[20%] before:bg-gradient-to-b before:from-[#ffffff] before:via-[#d1eaf746] before:to-[rgba(204,232,247,0.2)]",
        variant === "aup" && "bg-white",
        variant === "advisory" && "bg-white",
        variant === "hamriya" &&
          "bg-linear-to-t from-[#f5fbfe] via-white to-white shadow-[0_2px_12px_0_rgba(0,0,0,0.15)]",
      )}
    >
      <div className="container relative">
        <div className="flex max-md:flex-col-reverse max-md:flex-wrap md:gap-[35px] md:gap-[30px] lg:gap-[40px] xl:gap-[45px] 2xl:gap-[57px] 3xl:gap-[75px]">
          {/* Main Content */}
          <div className="w-full md:w-[57%] xl:w-[60%]">
            {(data?.title || data?.description) && (
              <div className="mb-6.25 lg:mb-4 2xl:mb-9 3xl:mb-10">
                <div className="mb-6.25 lg:mb-4 2xl:mb-9 3xl:mb-10">
                  {data?.title && (
                    <Heading
                      as="h2"
                      size="h2"
                      className="text-[#1C5396] mb-[25px] 2xl:mb-[30px] 3xl:mb-[35px] hidden md:block"
                    >
                      {parse(data.title)}
                    </Heading>
                  )} 
                </div> 
                {data?.description && (
                  <div className="text-[16px] 2xl:text-[20px] 3xl:text-[24px] leading-normal font-normal text-[#4E4E4E] [&_b]:font-medium [&_p]:mb-[10px] xl:[&_p]:mb-[15px] 3xl:[&_p]:mb-[20px]">
                    {parse(data.description)}
                  </div>
                )}
              </div>
            )}

            {items.length > 0 && (
              <ul className="space-y-4.3 lg:space-y-4.5 2xl:space-y-5">
                {items.map((item) => (
                  <li
                    key={item.id}
                    className="text-[16px] lg:text-[16px] 2xl:text-[19px] 3xl:text-[24px] text-[#4E4E4E] pl-[25px] 3xl:pl-[35px] mb-[18px] xl:mb-[13px] 3xl:mb-[23px] relative"
                  >
                    <span className="absolute inset-0 w-[16px] 3xl:w-[23px] h-[16px] 3xl:h-[23px] right-auto top-[4px] 2xl:top-[6px]">
                      {variant === "hamriya" && (
                        <>
                          <div className="hidden sm:block">
                            <svg
                              width="100%"
                              height="100%"
                              viewBox="0 0 18 18"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M10.6 5.65833L7.025 9.24167L5.65 7.86667C5.5753 7.77943 5.48337 7.70858 5.37998 7.65856C5.27659 7.60854 5.16398 7.58043 5.04921 7.576C4.93445 7.57157 4.82001 7.59091 4.71307 7.6328C4.60613 7.6747 4.50901 7.73825 4.42779 7.81946C4.34658 7.90067 4.28303 7.99779 4.24114 8.10473C4.19924 8.21167 4.17991 8.32611 4.18434 8.44088C4.18877 8.55564 4.21688 8.66826 4.2669 8.77164C4.31692 8.87503 4.38777 8.96696 4.475 9.04167L6.43334 11.0083C6.5112 11.0856 6.60355 11.1467 6.70508 11.1881C6.80661 11.2296 6.91533 11.2506 7.025 11.25C7.24362 11.2491 7.45312 11.1623 7.60834 11.0083L11.775 6.84167C11.8531 6.7642 11.9151 6.67203 11.9574 6.57048C11.9997 6.46893 12.0215 6.36001 12.0215 6.25C12.0215 6.13999 11.9997 6.03107 11.9574 5.92952C11.9151 5.82797 11.8531 5.7358 11.775 5.65833C11.6189 5.50312 11.4077 5.41601 11.1875 5.41601C10.9673 5.41601 10.7561 5.50312 10.6 5.65833ZM8.33334 0C6.68516 0 5.07399 0.488742 3.70358 1.40442C2.33318 2.3201 1.26507 3.62159 0.634341 5.1443C0.00361067 6.66702 -0.161417 8.34258 0.160126 9.95909C0.48167 11.5756 1.27534 13.0605 2.44078 14.2259C3.60622 15.3913 5.09108 16.185 6.70758 16.5065C8.32409 16.8281 9.99965 16.6631 11.5224 16.0323C13.0451 15.4016 14.3466 14.3335 15.2622 12.9631C16.1779 11.5927 16.6667 9.98151 16.6667 8.33333C16.6667 7.23898 16.4511 6.15535 16.0323 5.1443C15.6135 4.13326 14.9997 3.2146 14.2259 2.44078C13.4521 1.66696 12.5334 1.05313 11.5224 0.634337C10.5113 0.215548 9.42769 0 8.33334 0ZM8.33334 15C7.01479 15 5.72586 14.609 4.62954 13.8765C3.53321 13.1439 2.67872 12.1027 2.17414 10.8846C1.66956 9.66638 1.53753 8.32594 1.79477 7.03273C2.052 5.73952 2.68694 4.55164 3.61929 3.61929C4.55164 2.68694 5.73953 2.052 7.03274 1.79477C8.32594 1.53753 9.66639 1.66955 10.8846 2.17414C12.1027 2.67872 13.1439 3.5332 13.8765 4.62953C14.609 5.72586 15 7.01479 15 8.33333C15 10.1014 14.2976 11.7971 13.0474 13.0474C11.7971 14.2976 10.1014 15 8.33334 15Z"
                                fill="#8FD8FE"
                              />
                            </svg>
                          </div>
                          <div className="max-sm:block hidden">
                            <svg
                              width="17"
                              height="17"
                              viewBox="0 0 17 17"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M10.6 5.65833L7.025 9.24167L5.65 7.86667C5.5753 7.77943 5.48337 7.70858 5.37998 7.65856C5.27659 7.60854 5.16398 7.58043 5.04921 7.576C4.93445 7.57157 4.82 7.59091 4.71307 7.6328C4.60613 7.6747 4.50901 7.73825 4.42779 7.81946C4.34658 7.90067 4.28303 7.99779 4.24114 8.10473C4.19924 8.21167 4.17991 8.32611 4.18434 8.44088C4.18877 8.55564 4.21688 8.66825 4.2669 8.77164C4.31692 8.87503 4.38777 8.96696 4.475 9.04167L6.43334 11.0083C6.5112 11.0856 6.60355 11.1467 6.70508 11.1881C6.80661 11.2296 6.91533 11.2506 7.025 11.25C7.24362 11.2491 7.45312 11.1623 7.60834 11.0083L11.775 6.84167C11.8531 6.7642 11.9151 6.67203 11.9574 6.57048C11.9997 6.46893 12.0215 6.36001 12.0215 6.25C12.0215 6.13999 11.9997 6.03107 11.9574 5.92952C11.9151 5.82797 11.8531 5.7358 11.775 5.65833C11.6189 5.50312 11.4077 5.41601 11.1875 5.41601C10.9673 5.41601 10.7561 5.50312 10.6 5.65833ZM8.33334 0C6.68516 0 5.07399 0.488742 3.70358 1.40442C2.33318 2.3201 1.26507 3.62159 0.634341 5.1443C0.0036107 6.66702 -0.161417 8.34258 0.160126 9.95909C0.48167 11.5756 1.27534 13.0605 2.44078 14.2259C3.60622 15.3913 5.09108 16.185 6.70758 16.5065C8.32409 16.8281 9.99965 16.6631 11.5224 16.0323C13.0451 15.4016 14.3466 14.3335 15.2622 12.9631C16.1779 11.5927 16.6667 9.98151 16.6667 8.33333C16.6667 7.23898 16.4511 6.15535 16.0323 5.1443C15.6135 4.13326 14.9997 3.2146 14.2259 2.44078C13.4521 1.66696 12.5334 1.05313 11.5224 0.634337C10.5113 0.215548 9.42769 0 8.33334 0ZM8.33334 15C7.0148 15 5.72586 14.609 4.62954 13.8765C3.53321 13.1439 2.67872 12.1027 2.17414 10.8846C1.66956 9.66638 1.53753 8.32594 1.79477 7.03273C2.052 5.73952 2.68694 4.55164 3.61929 3.61929C4.55164 2.68694 5.73953 2.052 7.03274 1.79477C8.32594 1.53753 9.66639 1.66955 10.8846 2.17414C12.1027 2.67872 13.1439 3.5332 13.8765 4.62953C14.609 5.72586 15 7.01479 15 8.33333C15 10.1014 14.2976 11.7971 13.0474 13.0474C11.7971 14.2976 10.1014 15 8.33334 15Z"
                                fill="#5280CA"
                              />
                            </svg>
                          </div>
                        </>
                      )}
                      {variant === "saifz" || variant === "dsoa" ? (
                        <>
                          <div className="hidden sm:block">
                            <svg
                              width="100%"
                              height="100%"
                              viewBox="0 0 18 18"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M10.6 5.65833L7.025 9.24167L5.65 7.86667C5.5753 7.77943 5.48337 7.70858 5.37998 7.65856C5.27659 7.60854 5.16398 7.58043 5.04921 7.576C4.93445 7.57157 4.82001 7.59091 4.71307 7.6328C4.60613 7.6747 4.50901 7.73825 4.42779 7.81946C4.34658 7.90067 4.28303 7.99779 4.24114 8.10473C4.19924 8.21167 4.17991 8.32611 4.18434 8.44088C4.18877 8.55564 4.21688 8.66826 4.2669 8.77164C4.31692 8.87503 4.38777 8.96696 4.475 9.04167L6.43334 11.0083C6.5112 11.0856 6.60355 11.1467 6.70508 11.1881C6.80661 11.2296 6.91533 11.2506 7.025 11.25C7.24362 11.2491 7.45312 11.1623 7.60834 11.0083L11.775 6.84167C11.8531 6.7642 11.9151 6.67203 11.9574 6.57048C11.9997 6.46893 12.0215 6.36001 12.0215 6.25C12.0215 6.13999 11.9997 6.03107 11.9574 5.92952C11.9151 5.82797 11.8531 5.7358 11.775 5.65833C11.6189 5.50312 11.4077 5.41601 11.1875 5.41601C10.9673 5.41601 10.7561 5.50312 10.6 5.65833ZM8.33334 0C6.68516 0 5.07399 0.488742 3.70358 1.40442C2.33318 2.3201 1.26507 3.62159 0.634341 5.1443C0.00361067 6.66702 -0.161417 8.34258 0.160126 9.95909C0.48167 11.5756 1.27534 13.0605 2.44078 14.2259C3.60622 15.3913 5.09108 16.185 6.70758 16.5065C8.32409 16.8281 9.99965 16.6631 11.5224 16.0323C13.0451 15.4016 14.3466 14.3335 15.2622 12.9631C16.1779 11.5927 16.6667 9.98151 16.6667 8.33333C16.6667 7.23898 16.4511 6.15535 16.0323 5.1443C15.6135 4.13326 14.9997 3.2146 14.2259 2.44078C13.4521 1.66696 12.5334 1.05313 11.5224 0.634337C10.5113 0.215548 9.42769 0 8.33334 0ZM8.33334 15C7.01479 15 5.72586 14.609 4.62954 13.8765C3.53321 13.1439 2.67872 12.1027 2.17414 10.8846C1.66956 9.66638 1.53753 8.32594 1.79477 7.03273C2.052 5.73952 2.68694 4.55164 3.61929 3.61929C4.55164 2.68694 5.73953 2.052 7.03274 1.79477C8.32594 1.53753 9.66639 1.66955 10.8846 2.17414C12.1027 2.67872 13.1439 3.5332 13.8765 4.62953C14.609 5.72586 15 7.01479 15 8.33333C15 10.1014 14.2976 11.7971 13.0474 13.0474C11.7971 14.2976 10.1014 15 8.33334 15Z"
                                fill="#8FD8FE"
                              />
                            </svg>
                          </div>
                          <div className="max-sm:block hidden">
                            <svg
                              width="17"
                              height="17"
                              viewBox="0 0 17 17"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M10.6 5.65833L7.025 9.24167L5.65 7.86667C5.5753 7.77943 5.48337 7.70858 5.37998 7.65856C5.27659 7.60854 5.16398 7.58043 5.04921 7.576C4.93445 7.57157 4.82 7.59091 4.71307 7.6328C4.60613 7.6747 4.50901 7.73825 4.42779 7.81946C4.34658 7.90067 4.28303 7.99779 4.24114 8.10473C4.19924 8.21167 4.17991 8.32611 4.18434 8.44088C4.18877 8.55564 4.21688 8.66825 4.2669 8.77164C4.31692 8.87503 4.38777 8.96696 4.475 9.04167L6.43334 11.0083C6.5112 11.0856 6.60355 11.1467 6.70508 11.1881C6.80661 11.2296 6.91533 11.2506 7.025 11.25C7.24362 11.2491 7.45312 11.1623 7.60834 11.0083L11.775 6.84167C11.8531 6.7642 11.9151 6.67203 11.9574 6.57048C11.9997 6.46893 12.0215 6.36001 12.0215 6.25C12.0215 6.13999 11.9997 6.03107 11.9574 5.92952C11.9151 5.82797 11.8531 5.7358 11.775 5.65833C11.6189 5.50312 11.4077 5.41601 11.1875 5.41601C10.9673 5.41601 10.7561 5.50312 10.6 5.65833ZM8.33334 0C6.68516 0 5.07399 0.488742 3.70358 1.40442C2.33318 2.3201 1.26507 3.62159 0.634341 5.1443C0.0036107 6.66702 -0.161417 8.34258 0.160126 9.95909C0.48167 11.5756 1.27534 13.0605 2.44078 14.2259C3.60622 15.3913 5.09108 16.185 6.70758 16.5065C8.32409 16.8281 9.99965 16.6631 11.5224 16.0323C13.0451 15.4016 14.3466 14.3335 15.2622 12.9631C16.1779 11.5927 16.6667 9.98151 16.6667 8.33333C16.6667 7.23898 16.4511 6.15535 16.0323 5.1443C15.6135 4.13326 14.9997 3.2146 14.2259 2.44078C13.4521 1.66696 12.5334 1.05313 11.5224 0.634337C10.5113 0.215548 9.42769 0 8.33334 0ZM8.33334 15C7.0148 15 5.72586 14.609 4.62954 13.8765C3.53321 13.1439 2.67872 12.1027 2.17414 10.8846C1.66956 9.66638 1.53753 8.32594 1.79477 7.03273C2.052 5.73952 2.68694 4.55164 3.61929 3.61929C4.55164 2.68694 5.73953 2.052 7.03274 1.79477C8.32594 1.53753 9.66639 1.66955 10.8846 2.17414C12.1027 2.67872 13.1439 3.5332 13.8765 4.62953C14.609 5.72586 15 7.01479 15 8.33333C15 10.1014 14.2976 11.7971 13.0474 13.0474C11.7971 14.2976 10.1014 15 8.33334 15Z"
                                fill="#5280CA"
                              />
                            </svg>
                          </div>
                        </>
                      ) : (
                        <svg
                          width="100%"
                          height="100%"
                          viewBox="0 0 23 23"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M14.1333 7.54444L9.36667 12.3222L7.53334 10.4889C7.43373 10.3726 7.31115 10.2781 7.17331 10.2114C7.03546 10.1447 6.88531 10.1072 6.73229 10.1013C6.57927 10.0954 6.42667 10.1212 6.28409 10.1771C6.14151 10.2329 6.01201 10.3177 5.90373 10.4259C5.79544 10.5342 5.71071 10.6637 5.65485 10.8063C5.59899 10.9489 5.57321 11.1015 5.57912 11.2545C5.58503 11.4075 5.62251 11.5577 5.6892 11.6955C5.75589 11.8334 5.85036 11.9559 5.96667 12.0556L8.57778 14.6778C8.68161 14.7808 8.80473 14.8622 8.94011 14.9175C9.07548 14.9728 9.22044 15.0008 9.36667 15C9.65816 14.9988 9.93749 14.883 10.1445 14.6778L15.7 9.12222C15.8041 9.01893 15.8868 8.89604 15.9432 8.76064C15.9996 8.62524 16.0287 8.48001 16.0287 8.33333C16.0287 8.18665 15.9996 8.04143 15.9432 7.90603C15.8868 7.77063 15.8041 7.64774 15.7 7.54444C15.4918 7.3375 15.2102 7.22134 14.9167 7.22134C14.6231 7.22134 14.3415 7.3375 14.1333 7.54444ZM11.1111 0C8.91355 0 6.76533 0.651655 4.93811 1.87256C3.1109 3.09346 1.68676 4.82878 0.845788 6.85907C0.00481427 8.88936 -0.215223 11.1234 0.213502 13.2788C0.642227 15.4341 1.70046 17.4139 3.25437 18.9679C4.80829 20.5218 6.7881 21.58 8.94345 22.0087C11.0988 22.4375 13.3329 22.2174 15.3632 21.3764C17.3934 20.5355 19.1288 19.1113 20.3497 17.2841C21.5706 15.4569 22.2222 13.3087 22.2222 11.1111C22.2222 9.65198 21.9348 8.20714 21.3764 6.85907C20.8181 5.51101 19.9996 4.28613 18.9679 3.25437C17.9361 2.22261 16.7112 1.40417 15.3632 0.845783C14.0151 0.287397 12.5702 0 11.1111 0ZM11.1111 20C9.35306 20 7.63448 19.4787 6.17271 18.502C4.71094 17.5252 3.57163 16.137 2.89885 14.5127C2.22607 12.8885 2.05005 11.1013 2.39303 9.37698C2.736 7.6527 3.58259 6.06885 4.82572 4.82572C6.06886 3.58258 7.65271 2.736 9.37698 2.39302C11.1013 2.05004 12.8885 2.22607 14.5127 2.89885C16.137 3.57163 17.5252 4.71094 18.502 6.17271C19.4787 7.63448 20 9.35306 20 11.1111C20 13.4686 19.0635 15.7295 17.3965 17.3965C15.7295 19.0635 13.4686 20 11.1111 20Z"
                            fill="#5280CA"
                          />
                        </svg>
                      )}
                    </span>
                    {parse(item.text)}
                  </li>
                ))}
              </ul>
            )}

            {data?.ftr_description && (
              <div className="mt-5.5 lg:mt-6.25 2xl:mt-7 3xl:mt-8 text-[16px] lg:text-[16px] 2xl:text-[19px] 3xl:text-[24px] leading-normal font-normal text-[#4E4E4E] max-md:[&_br]:hidden">
                {parse(data.ftr_description)}
              </div>
            )}
          </div>

          {/* Image */}
          {data?.media?.path && (
            <div className="w-full md:w-[43%] xl:w-[40%]">
              <div className="mb-6.25 lg:mb-4 2xl:mb-9 3xl:mb-10 block md:hidden">
                {data?.title && (
                  <Heading
                    as="h2"
                    size="h2"
                    className="text-[#1C5396] mb-[25px] 2xl:mb-[30px] 3xl:mb-[35px]"
                  >
                    {data.title}
                  </Heading>
                )}
              </div>
              <div className="w-full h-[380px] sm:h-full rounded-[12px] overflow-hidden max-md:mb-6">
                <Image
                  src={data.media.path}
                  alt={data.media.alt || data?.title || "Document required"}
                  width={615}
                  height={636}
                  className="w-full h-full object-cover"
                />
              </div>
            </div>
          )}
        </div>
      </div>
    </section>
  );
}
